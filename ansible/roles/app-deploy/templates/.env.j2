# AddaxAI Connect Environment Variables
# Generated by Ansible

# Database
POSTGRES_USER={{ db_user | default('addaxai') }}
POSTGRES_PASSWORD={{ db_password }}
POSTGRES_DB={{ db_name | default('addaxai_connect') }}
DATABASE_URL=postgresql://{{ db_user | default('addaxai') }}:{{ db_password }}@postgres:5432/{{ db_name | default('addaxai_connect') }}

# Redis
REDIS_PASSWORD={{ redis_password }}
REDIS_URL=redis://:{{ redis_password }}@redis:6379/0

# MinIO (S3-compatible storage)
MINIO_ROOT_USER={{ minio_user | default('minioadmin') }}
MINIO_ROOT_PASSWORD={{ minio_password }}
MINIO_ENDPOINT=minio:9000
{% if enable_ssl and domain_name is defined -%}
MINIO_PUBLIC_ENDPOINT=https://{{ domain_name }}/minio
{% else -%}
MINIO_PUBLIC_ENDPOINT=http://{{ ansible_host }}/minio
{% endif -%}
MINIO_ACCESS_KEY={{ minio_user | default('minioadmin') }}
MINIO_SECRET_KEY={{ minio_password }}

# JWT
JWT_SECRET={{ jwt_secret }}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API
API_HOST=0.0.0.0
API_PORT=8000
CORS_ORIGINS=http://{{ ansible_host }},http://localhost:3000,http://localhost:5173{% if domain_name is defined %},https://{{ domain_name }}{% endif %}

# ML Models
DETECTION_MODEL_PATH=/models/detection.pt
CLASSIFICATION_MODEL_PATH=/models/classification.pt
USE_GPU={{ use_gpu | default('false') }}

# FTPS Upload Directory
FTPS_UPLOAD_DIR={{ ftps_upload_dir | default('/opt/addaxai-connect/uploads') }}

# FTPS Connection (for upload testing)
FTPS_HOST=host.docker.internal
FTPS_PORT=21
FTPS_USERNAME={{ ftps_username | default('camera') }}
FTPS_PASSWORD={{ ftps_password }}
FTPS_USE_TLS=true

# Email (for authentication)
MAIL_SERVER={{ mail_server | default('smtp.gmail.com') }}
MAIL_PORT={{ mail_port | default(587) }}
MAIL_USERNAME={{ mail_username }}
MAIL_PASSWORD={{ mail_password }}
MAIL_FROM={{ mail_from }}
DOMAIN_NAME={{ domain_name }}

# Environment
ENVIRONMENT={{ app_environment | default('development') }}
LOG_LEVEL={{ log_level | default('INFO') }}
